### Что такое **интернет**
> Это соединенные между собой сети компьютеров. В итоге получется сеть сетей. 

Сеть - объединеные между собой компьютеры

Для того чтобы подключить хотя бы 3 компьютера в сеть нужно воспользоваться маршрутизатором. Который будет передавать и принимать трафик. 

А что если мы хотим объеденить нашу локальную сеть с сетью соседей?
То нужно воспользоваться центральным маршрутизатором. Это тоже самое как подключали компьютеры между собой в локальной сети. 

### Различие сетей
LAN (local access network)
>Локальная сеть 

WAN (wide access network)
>Глобальная сеть


## Сетевые протоколы
За набор правил по которым работает сеть отвечает **TCP/IP**:
- Прикладной уровень (уровень приложений). Протоколы: FTP, HTTP, HTTPS, DNS, SSH, SMD
- Транспортный уровень (передача данных пакетами)
- Межсетевой уровень (регламентирует сопряжение разных сетей)
- Канальный уровень (как по проводам передается информация)

### IP, NAT 
>  Отвечает за доставку информации в сети

У каждого компьютера есть стандартизированный адрес. Эти и есть IP адрес.
Есть IPv4 (A.B.C.D., 192.168.1.1) и IPv6. 

Как провайдер предоставляет доступ к интернету
![[Pasted image 20240313160113.png]]

Например все квартиры на одной улице подключены к маршурутизатору провайдора. Со стороны глобальной сети все улица имеет один IP, но чтобы различаться в локальной сети улицы у всех квартир разные IP. Это технология называется **NAT**.
Адреса только локальных сетей:
- 10.0.0.0
- 172.16.0.0
- 192.168.0.0
- 127.0.0.0 (локальный ip пк)

### Клиент-сервер
>Сервер - это компьютер или приложение, которое обслуживает запросы клиентов. 
>Клиетом, например, является браузер, запращивающий данные с веб-сервера.

Клиент и сервер одновременно могут работать с одного пк. Например, разробатывая сайт, мы можем через браузер (клиент) запращивать информацию из программы (сервер).

### Прокси и Vpn
> Прокси-сервер - промежуточный сервер через который пропускаем трафик

>Vpn (virtual private network) - способ создания сети поверх другой сеть, и в этой сети шифруется трафик.

Подключаемся к vpn-серверу и наш трафик между Vpn шифруется. Только потом vpn-сервер отправляет трафик дальше.

### DHCP (Dynamic host configuration protocol)
Выдает Ip в локальной сети. Например в домашней сети роутера. 

### DNS (Domain name system)
>Это подмена Ip адреса на понятное человеку название.
>Например `google.com`

По сути, это большая база данных, хронящая соответсвия между доменными именами и Ip адресом.
#### Доменная зона

1) Домены первого уровня (.com, .ru, .org). Их придумали для разделение сайтов по группам. Но сейчас это уже не важно и для любого сайта можно назначить любое доменное имя 1 уровня.
2) Домен второго уровня (google, yandex, youtube). Их регистрацией занимается компания за денежку. 
Еще существует корневой домен `.` его не видно когда вводишь ссылку, но он всегда существует.  

#### Система DNS сервером

![[Pasted image 20240313194359.png]]
Для начала браузер:
- обращается к DNS Resolver - сервис провайдера, который должен найти Ip по доменному имени
- DNS Resolver обращается к корневому домену, который сообщает где находится домен `.com` 
- DNS Resolver идет к серверу облуживающий `.com` и спращивает про `google.com` Он отвечает какой Ip у `google.com`
- Ip возвращается в DNS Resolver 
- Из DNS Resolver возвращается в браузер 
- Браузер шлет запрос на этот Ip


#### DNS записи
Каждая запись имеет свое предназначение:
- АAAA-запись - сопоставление домена IPv6
- TXT-запись - справочная текстовая запись, которой может пользоваться сервер
- MX-запись - запись почтового сервиса, обробатывающего домен

Посмотреть DNS записи можно с помощью `dig` либо на сайте https://toolbox.googleapps.com/apps/dig/ 

#### Файл host `/etc/hosts`
>Это файл, имеющийся в каждой опреционной системе, в нем можно задать DNS настройки и они имеют максимальный приоритет.

В этом файле можно задавать соотвествие IP пк и доменному имени. По дефолту 127.0.0.1 это localhost.

### HTTP
Проток прикладного уровня 
>Проток передачи гипертекста (текстовая страница, ссылающиеся друг на друга). По простому HTTP - это проткол передачи html 

Также он нужен для общения клент-сервер. По нему могут передавться обычные данные (например json). 

Для того чтобы пощупать http запросы вопспользуемя `telnet`. 
Напишем `telnet google.com 80`. Отправляем запрос на домен `google.com` на порт **80** (стандартный порт для $http$). А для $https$ стандартным порт **443**.

**Для чего нужны проты?**
	Есть n-ое количество программы запущенных на одном сервере, и когда на сервер приходит запрос нужно понять кто его будет обробатывать. У каждой программы на сервере (почтовая, http и т.д.) есть свой порт. К опреционной системе сервера приходит запрос, и она по порту его перенаправляет нужно программе.

Подключаемся к google.com через telnet. И вписываем http запрос
```
HEAD / HTTP/1.0
HOST: google.com
```
Запрашиваем `HEAD` (заголовки) у начальной страницы `/`, потом говорим что это HTTP запрос 1 версии `HTTP/1.0`. Указваем хость `google.com` `HOST: google.com`. 
Ответ сервера:
```
HTTP/1.0 301 Moved Permanently # ответил по HTTP 1 версии с кодом ответа 301
Location: http://www.google.com/
Content-Type: text/html; charset=UTF-8 # тип контента по этому адресу
Date: Thu, 14 Mar 2024 13:42:23 GMT
Expires: Sat, 13 Apr 2024 13:42:23 GMT
Cache-Control: public, max-age=2592000
Server: gws
Content-Length: 219
X-XSS-Protection: 0
X-Frame-Options: SAMEORIGIN
```

HTTP методы:
`HEAD` - метод, запрашивающий заголовок ответа.
`GET` - метод запроса с сервера
`POST` - отправка данных на сервер
`PUT` - обновление данных на сервере
`DELETE` - удаление 

#### Что такое Cookie
Подключимся через telnet к `www.google.com 80`. Запишем тоже самое что и выши. Получим ответ:
```
...
Set-Cookie: 1P_JAR=2024-03-14-14; expires=Sat, 13-Apr-2024 14:06:47 GMT; path=/; domain=.google.com; Secure
Set-Cookie: AEC=Ae3NU9M_xFPToQQ8AT07azANERHhPpaSlNHMK8AeWISQaUR2hjcT3CU-XgI; expires=Tue, 10-Sep-2024 14:06:47 GMT; path=/; domain=.google.com; Secure; HttpOnly; SameSite=lax
Set-Cookie: NID=512=LLxclQZXzlIdj-mSt8hRwLyK5vGAenZxpzzNVeMiKRHeCOVKKTk4ounnJ2CSa9E2P368Xl-pIEevGwVumrILXnmprUgQkWiNUEaoJ90JZTaXZuMG8BmALi5CkOHUtp2f-BAe_7onJuEWiBFbm9D8_67N3CA2jboLAXCMboRdND0; expires=Fri, 13-Sep-2024 14:06:47 GMT; path=/; domain=.google.com; HttpOnly
```

>[[Cookies, сессии, безопасность|Cookie]] - это текставая информация, которая сохраняется в браузере для того, чтобы лишний раз не запрашивать одно и тоже. И при повторной отправке сразу ее отправить на сервер. 

Например нужно для сохранения авторизации. 
[[Cookies, сессии, безопасность|Подробная работа с Cookie]]

#### HTTP 2.0 3.0
Они уже являтся бинарными. Они представлены не в виде текстовых данных, а в виде бинарных. 
Он быстрее работает из-за установление всего 1 tcp соединения. И сервер предугадывает какие данные ему будут нужны в будущем и подготавливает их. 

HTTP 3.0 уже работает не на tcp, а на QUIC 
#### HTTPS 
>Это шифрованный HTTP

Шифруется трафик между сервером и браузером. Для успешной работы HTTPS на сайте ему нужен SSl сертификат. Владельцу сайта выдается публичный и приватный ключ сертификата.  

### Как данные передаются на сервер
1) Данные могут передаваться через адрес (URI). 
Например: `vk.com/user/pivozavr`. Передаются статические данные. 
2) Через `GET` параметры. Например: `google.com/search?q=python+#ip=1`. Чаще всего таким способом задаются динамические данные. 
3) Чтобы передавать много данных и/или они чувствительные нужно их отправлять в теле HTTP запроса. Так передает `Post` и `Put` HTTP метод. 
4) Cookie отправляем сохраненную текстовую информацию в куки на сервер. 
### itertools
Это библиотека для работы с коллекциями
```python
import itertools
```
Функции в этой библиотеке можно разделить на две части:
- **возвращающие бесконечные итераторы**
Эти функции позволяют переделать из конечной коллекции в бесконечный итератор(по нему можно пройтись бесконечным циклом).

`count(start, step)` — принимает на вход начальное значение (`start`, по умолчанию равно 0) и шаг (`step`, по умолчанию равен 1) бесконечно увеличивающейся числовой последовательности. В качестве значений аргументов можно использовать вещественные числа (`float`). Затем функция возвращает итератор, значения которого являются выходной последовательностью. Выведем числа от 0 до 1 с шагом 0.1. Так как возвращаемый итератор бесконечный, применим `break` для остановки цикла:
```python
from itertools import count

for value in count(0, 0.1):
    if value <= 1:
        print(round(value, 1))
    else:
        break
```
Вывод:
```python
0
0.1
0.2
0.3
0.4
0.5
0.6
0.7
0.8
0.9
1.0
```

`cycle(iterable)` — принимает на вход итерируемый объект, а возвращает итератор, который бесконечно циклически перебирает значения коллекции. Напишем программу, которая выводит строку длиной 10 символов, циклически перебирая символы входной строки `ABC`:
```python
from itertools import cycle

max_len = 10
s = ""
for letter in cycle("ABC"):
    if len(s) < 10:
        s += letter
    else:
        break
print(s)
```
Вывод:
```python
ABCABCABCA
```

`repeat(object, times)` — возвращает итератор, повторяющий значение `object` (по умолчанию бесконечное количество раз — либо равно значению `times`). Напишем программу, которая создаст список из пяти строк `ABC` и выведет его на экран:
```python
from itertools import repeat

result = list(repeat("ABC", 5))
print(result)
```
Вывод:
```python
['ABC', 'ABC', 'ABC', 'ABC', 'ABC']
```

- **Функции, выполняющиеся до кратчайшей входной последовательности**
`accumulate(iterable)` — возвращает итератор, состоящий из накопленных сумм элементов входной последовательности:
```python
from itertools import accumulate

for value in accumulate([1, 2, 3, 4, 5]):
    print(value)
```
Вывод:
```python
1
3
6
10
15
```

`chain(i_1, i_2, ..., i_n)` — возвращает итератор, состоящий из элементов первого итерируемого объекта i_1, затем из второго i_2 и так далее до i_n.
```python
from itertools import chain

values = list(chain("АБВ", "ГДЕЁ", "ЖЗИЙК"))
print(values)
```
Вывод:
```python
['А', 'Б', 'В', 'Г', 'Д', 'Е', 'Ё', 'Ж', 'З', 'И', 'Й', 'К']
```

`chain.from_iterable(iterable)` — аналогична `chain`, но аргументом является один итерируемый объект, состоящий из итерируемых элементов.
```python
from itertools import chain

values = list(chain.from_iterable(["АБВ", "ГДЕЁ", "ЖЗИЙК"]))
print(values)
```
Вывод:
```python
['А', 'Б', 'В', 'Г', 'Д', 'Е', 'Ё', 'Ж', 'З', 'И', 'Й', 'К']
```
- **Функции для комбинаторики**

`product(i_1, i_2, ..., i_n, repeat)` - преобразует коллекцию в итератор в котором создаются кортежи со значением из `iterator`. `repeat` говорит нам о том сколько элементов будет в кортеже. Возвращает список пар i_1 с repeat_1,  i_2 с repeat_2,  i_n с repeat_n.
```python
from itertools import product

values = list(product([1, 2, 3], "АБВГ"))
print(values)
```
Вывод:
```python
[(1, 'А'),
 (1, 'Б'),
 (1, 'В'),
 (1, 'Г'),
 (2, 'А'),
 (2, 'Б'),
 (2, 'В'),
 (2, 'Г'),
 (3, 'А'),
 (3, 'Б'),
 (3, 'В'),
 (3, 'Г')]
```

`permutations(iterable, r)` — возвращает итератор, значениями которого являются перестановки без повторений из элементов итерируемого объекта `iterable`. Если значение `r` не задано, элементы итератора имеют ту же длину, что и `iterable`. Иначе длина равна `r`. 
```python
from itertools import permutations

values = list(permutations("АБВ"))
print(values)
```
Вывод:
```python
[('А', 'Б', 'В'),
 ('А', 'В', 'Б'),
 ('Б', 'А', 'В'),
 ('Б', 'В', 'А'),
 ('В', 'А', 'Б'),
 ('В', 'Б', 'А')]
```

`combinations(iterable, r)` — возвращает итератор, значениями которого выступают сочетания (без повторений) длиной `r` элементов итерируемого объекта `iterable`.
```python
from itertools import combinations

values = list(combinations("АБВ", 2))
print(values)
```
Вывод:
```python
[('А', 'Б'), ('А', 'В'), ('Б', 'В')]
```

`combinations_with_replacement(iterable, r)` — возвращает итератор, значениями которого выступают сочетания (с повторениями) длиной `r` элементов итерируемого объекта:
```python
from itertools import combinations_with_replacement

values = list(combinations_with_replacement("АБВ", 2))
print(values)
```
Вывод:
```python
[('А', 'Б'), ('А', 'В'), ('Б', 'В')]
```

- **Еще полезные функции**
`zip` - Эта функция принимает на вход коллекции, а возвращает итератор, значениями которого выступают кортежи, состоящие из элементов, имеющих одинаковые индексы, обрабатываемых коллекций.
```python
print(list(zip("ABC", [1, 2, 3])))
```
Вывод:
```python
[('A', 1), ('B', 2), ('C', 3)]
```
Если в функции `zip()` задать значение аргумента strict=True, то в случае разной длины коллекций будет вызываться исключение ValueError:
```python
print(list(zip("ABCDE", [1, 2, 3], strict=True)))
```
Вывод:
```python
ValueError: zip() argument 2 is shorter than argument 1
```
